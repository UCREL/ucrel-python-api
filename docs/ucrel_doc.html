---

title: UCREL Doc


keywords: fastai
sidebar: home_sidebar

summary: "The UCREL Doc class holds text level lingustic information which is stored as a list of UCREL Token instances."
description: "The UCREL Doc class holds text level lingustic information which is stored as a list of UCREL Token instances."
nb_path: "module_notebooks/02_ucrel_doc.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: module_notebooks/02_ucrel_doc.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="UCREL_Doc" class="doc_header"><code>class</code> <code>UCREL_Doc</code><a href="https://github.com/UCREL/ucrel-python-api/tree/main/ucrel_api/ucrel_doc.py#L12" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>UCREL_Doc</code>(<strong><code>text</code></strong>:<code>str</code>, <strong><code>tokens</code></strong>:<code>List</code>[<a href="/ucrel-python-api/ucrel_token.html#UCREL_Token"><code>UCREL_Token</code></a>], <strong><code>sentence_indexes</code></strong>:<code>Optional</code>[<code>List</code>[<code>Tuple</code>[<code>int</code>, <code>int</code>]]]=<em><code>None</code></em>) :: <code>Iterable</code></p>
</blockquote>
<p>Classs that holds text level lingustic information which is stored as
a list of <a href="/ucrel-python-api/ucrel_token.html#UCREL_Token"><code>UCREL_Token</code></a>s. A text here can be anything from one word
to a whole book or larger. However becareful how much information
you store in this class as it is all stored in memory.</p>
<p>This class is inspired by the <a href="https://spacy.io/api/doc">Doc</a>
class from the <a href="https://spacy.io/api">SpaCy API.</a></p>
<p><strong>inherits from</strong>: <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable">collections.abc.Iterable</a>
and <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sized">collections.abc.Sized</a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="UCREL_Doc.__init__" class="doc_header"><code>UCREL_Doc.__init__</code><a href="__main__.py#L21" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>UCREL_Doc.__init__</code>(<strong><code>text</code></strong>:<code>str</code>, <strong><code>tokens</code></strong>:<code>List</code>[<a href="/ucrel-python-api/ucrel_token.html#UCREL_Token"><code>UCREL_Token</code></a>], <strong><code>sentence_indexes</code></strong>:<code>Optional</code>[<code>List</code>[<code>Tuple</code>[<code>int</code>, <code>int</code>]]]=<em><code>None</code></em>)</p>
</blockquote>
<ol>
<li><strong>text</strong>: The text the Doc is representing.</li>
<li><strong>tokens</strong>: List of <a href="/ucrel-python-api/ucrel_token.html#UCREL_Token"><code>UCREL_Token</code></a>s</li>
<li><strong>sentence_indexes</strong>: A List of Tuples. Where each tuple 
contains a start and an end token index representing 
the start and end of the sentence. These are used to 
create the <code>sentences</code> property. Can be accessed through 
<code>self._sentence_indexes</code>. <strong>Optional</strong></li>
</ol>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ucrel_api.ucrel_token</span> <span class="kn">import</span> <span class="n">UCREL_Token</span>

<span class="n">DOC_TOKENS</span> <span class="o">=</span> <span class="p">[</span><span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">pos_tag</span><span class="o">=</span><span class="s1">&#39;UH&#39;</span><span class="p">,</span> <span class="n">usas_tag</span><span class="o">=</span><span class="s1">&#39;Z4&#39;</span><span class="p">),</span> 
              <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;how&#39;</span><span class="p">,</span> <span class="s1">&#39;RRQ&#39;</span><span class="p">,</span> <span class="s1">&#39;Z5&#39;</span><span class="p">),</span> 
              <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;are&#39;</span><span class="p">,</span> <span class="s1">&#39;VBR&#39;</span><span class="p">,</span> <span class="s1">&#39;A3+&#39;</span><span class="p">),</span> <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;you&#39;</span><span class="p">,</span> <span class="s1">&#39;PPY&#39;</span><span class="p">,</span> <span class="s1">&#39;Z8mf&#39;</span><span class="p">),</span>
              <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;PPIS1&#39;</span><span class="p">,</span> <span class="s1">&#39;Z8mf&#39;</span><span class="p">),</span>
              <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;am&#39;</span><span class="p">,</span> <span class="s1">&#39;VBM&#39;</span><span class="p">,</span> <span class="s1">&#39;A3+&#39;</span><span class="p">),</span> <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;great&#39;</span><span class="p">,</span> <span class="s1">&#39;JJ&#39;</span><span class="p">,</span> <span class="s1">&#39;A5.1+&#39;</span><span class="p">),</span>
              <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;thanks&#39;</span><span class="p">,</span> <span class="s1">&#39;NN2&#39;</span><span class="p">,</span> <span class="s1">&#39;S1.2.4+&#39;</span><span class="p">),</span> <span class="n">UCREL_Token</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>

<span class="n">example_doc</span> <span class="o">=</span> <span class="n">UCREL_Doc</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello how are you. I am great thanks.&#39;</span><span class="p">,</span>
                        <span class="n">tokens</span><span class="o">=</span><span class="n">DOC_TOKENS</span><span class="p">,</span> <span class="n">sentence_indexes</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="UCREL_Doc.__repr__" class="doc_header"><code>UCREL_Doc.__repr__</code><a href="__main__.py#L37" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>UCREL_Doc.__repr__</code>()</p>
</blockquote>
<p>String representation of the UCREL Doc instance:</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_doc</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>UCREL Doc (2 sentences):
First 3 tokens:
UCREL Token: hello	POS tag: UH	USAS tag: Z4
UCREL Token: how	POS tag: RRQ	USAS tag: Z5
UCREL Token: are	POS tag: VBR	USAS tag: A3+</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="UCREL_Doc.sentences" class="doc_header"><code>UCREL_Doc.sentences</code><a href="" class="source_link" style="float:right">[source]</a></h4><p><strong>returns</strong>: An iterable of all sentences in the text represented 
as a list of <a href="/ucrel-python-api/ucrel_token.html#UCREL_Token"><code>UCREL_Token</code></a>s.</p>
<p><strong>raises ValueError</strong>: If the <code>sentence_indexes</code> parameter is not set 
at contruction time.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">example_doc</span><span class="o">.</span><span class="n">sentences</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Sentence </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s1">:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">sentence</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">token</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Sentence 0:
UCREL Token: hello	POS tag: UH	USAS tag: Z4
UCREL Token: how	POS tag: RRQ	USAS tag: Z5
UCREL Token: are	POS tag: VBR	USAS tag: A3+
UCREL Token: you	POS tag: PPY	USAS tag: Z8mf
UCREL Token: .	POS tag: .


Sentence 1:
UCREL Token: I	POS tag: PPIS1	USAS tag: Z8mf
UCREL Token: am	POS tag: VBM	USAS tag: A3+
UCREL Token: great	POS tag: JJ	USAS tag: A5.1+
UCREL Token: thanks	POS tag: NN2	USAS tag: S1.2.4+
UCREL Token: .	POS tag: .
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="UCREL_Doc.__iter__" class="doc_header"><code>UCREL_Doc.__iter__</code><a href="__main__.py#L50" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>UCREL_Doc.__iter__</code>()</p>
</blockquote>
<p><strong>returns</strong>: Yields each token in <code>self.tokens</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">token</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">example_doc</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">token</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0 UCREL Token: hello	POS tag: UH	USAS tag: Z4
1 UCREL Token: how	POS tag: RRQ	USAS tag: Z5
2 UCREL Token: are	POS tag: VBR	USAS tag: A3+
3 UCREL Token: you	POS tag: PPY	USAS tag: Z8mf
4 UCREL Token: .	POS tag: .
5 UCREL Token: I	POS tag: PPIS1	USAS tag: Z8mf
6 UCREL Token: am	POS tag: VBM	USAS tag: A3+
7 UCREL Token: great	POS tag: JJ	USAS tag: A5.1+
8 UCREL Token: thanks	POS tag: NN2	USAS tag: S1.2.4+
9 UCREL Token: .	POS tag: .
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="UCREL_Doc.__getitem__" class="doc_header"><code>UCREL_Doc.__getitem__</code><a href="__main__.py#L63" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>UCREL_Doc.__getitem__</code>(<strong><code>index</code></strong>:<code>int</code>)</p>
</blockquote>
<ol>
<li><strong>index</strong>: The index of the token to return. </li>
</ol>
<p><strong>returns</strong>: The token at the given index.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_doc</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>UCREL Token: thanks	POS tag: NN2	USAS tag: S1.2.4+</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="UCREL_Doc.__len__" class="doc_header"><code>UCREL_Doc.__len__</code><a href="__main__.py#L57" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>UCREL_Doc.__len__</code>()</p>
</blockquote>
<p><strong>returns</strong>: The number of tokens in the Doc.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">example_doc</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>10</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="UCREL_Doc.__eq__" class="doc_header"><code>UCREL_Doc.__eq__</code><a href="__main__.py#L71" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>UCREL_Doc.__eq__</code>(<strong><code>other</code></strong>:<code>Any</code>)</p>
</blockquote>
<p>Compare another instance with the current instance of this
class.</p>
<ol>
<li><strong>other</strong>: Another instance, if this instance is not of this
class type it will raise a <code>NotImplementedError</code>.</li>
</ol>
<p><strong>returns</strong> <code>True</code> if the two instances are the same based on
the following attributes:</p>
<ol>
<li>text</li>
<li>sentence_indexes</li>
<li>tokens</li>
</ol>
<p><strong>raises NotImplementedError</strong>: If the <code>other</code> instance is not of 
the same class type as <code>self</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">example_doc</span> <span class="o">==</span> <span class="n">UCREL_Doc</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello how are you. I am great thanks.&#39;</span><span class="p">,</span>
                                <span class="n">tokens</span><span class="o">=</span><span class="n">DOC_TOKENS</span><span class="p">,</span> 
                                <span class="n">sentence_indexes</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)])</span>

<span class="n">example_without_sent_indexes</span> <span class="o">=</span> <span class="n">UCREL_Doc</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello how are you. I am great thanks.&#39;</span><span class="p">,</span>
                                         <span class="n">tokens</span><span class="o">=</span><span class="n">DOC_TOKENS</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">example_doc</span> <span class="o">!=</span> <span class="n">example_without_sent_indexes</span>

<span class="k">try</span><span class="p">:</span>
    <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;hello how are you. I am great thanks.&#39;</span><span class="p">,</span> 
     <span class="s1">&#39;tokens&#39;</span><span class="p">:</span> <span class="n">DOC_TOKENS</span><span class="p">,</span> <span class="s1">&#39;sentence_indexes&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)]}</span> <span class="o">==</span> <span class="n">example_doc</span>
<span class="k">except</span> <span class="ne">NotImplementedError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;UCREL_Doc instances can only be compared &#39;</span>
          <span class="s1">&#39;with other UCREL_Doc instances:&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>UCREL_Doc instances can only be compared with other UCREL_Doc instances:
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

